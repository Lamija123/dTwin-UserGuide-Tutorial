<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart model (nonlinear)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>2.2. Cart model (nonlinear)</h2>

    <h3>Task Overview</h3>
    <p>This task demonstrates how to model a nonlinear mechanical system, specifically a "cart-pendulum"
    system, in dTwin subjected to a time-limited harmonic force. The excitation simulates an earthquake
    lasting one second, after which the system oscillates freely.</p>

    <h3>Task objective:</h3>
    <p>The objective of this model is to simulate the dynamic behavior of the frictionless "cart-pendulum"
        system under the influence of an external force mimicking an earthquake. The model illustrates the
        system’s response to an oscillatory force of limited duration (e.g., ground shaking during the first
        second).</p>

    
    <h3>Program Analysis:</h3> 
    <p>Definition of the analyzed model:</p>

    <div class="code-block">
       Model [type=DAE name="Cart-Pendulum no friction" domain=real method=RK4 eps=1e-5]:
    </div>
        <p><strong>type</strong> = "DAE" – the system uses differential-algebraic equations.</p>
        <p><strong>name</strong> = "Cart-Pendulum no friction" – model name.</p>
        <p><strong>domain</strong> = real" – defines that all variables and parameters are within the real domain.</p>
        <p><strong>eps</strong> = "1e-5" –  specified solution accuracy.</p>
        <p><strong>method</strong> = RK4" – the fourth-order Runge-Kutta method is used for solving.</p>

    <p>Block <strong>Vars</strong>:</p>
    <div class="code-block">
       Vars [out=true]:
            x = 1
            v = 0.
            θ = 0.5 
            ω = 0.
    </div>

    <p>Block <strong>Params</strong></p>
    <div class="code-block">
        Params:
            Ω = 2*pi*0.3
            M=10
            m=1
            L=1
            c=4
            k=2
            F_0=3
            F_ext = F_0 [out=true]
            g=9.81
    </div>

    <p>The functions of the <i>Vars</i> and <i>Params</i> blocks were explained in <a href="nonlinear-real.html">example 1.1</a>.</p>

    <p>Block <strong>ODEs</strong>:</p>
    
    <div class="code-block">
        ODEs:
            x' = v
            v' = (-m*L*ω^2*sin(θ) + F_ext - k*x - c*v)/(M+m*sin(θ)^2) + m*g*L*sin(θ)*cos(θ)/(L*(M+m*sin(θ)^2))
            θ' = ω
            ω' = -cos(θ)*(-m*L*ω^2*sin(θ) + F_ext - k*x - c*v)/(L*(M+m*sin(θ)^2)) - (M+m)*m*g*L*sin(θ)/(m*L^2*(M+m*sin(θ)^2))
    </div>

    <p>The function of the ODEs block was explained in <a href="pendulum-ode.html">examples 1.3</a>.
        It contains the ordinary differential equations that describe the analyzed system.</p>

    <p>Block <strong>PostProc</strong>:</p>
    
    <div class="code-block">
        PostProc:
            if t &lt 1:			//Limit extern force to be active in first second only
                F_ext=F_0 * cos(Ω * t)
            else:
                F_ext=0
            end
    </div>

    <p>This block enables the post-processing of computed quantities. In this task, it determines the
        duration of the excitation representing an earthquake lasting one second, after which the system
        oscillates freely.</p>

    <p>The keyword <strong>end</strong> signifies the termination of the model definition</p>
    <div class="code-block">
        end // end of Model
    </div>

    <p>The simulation results are presented below.</p>
        
    <p>The window displayed after initiating the simulation is shown in picture 2.2.1</p>

    <div class="figure">
        <img src="img/z26.jpg" alt="Figure 1.1">
        <div class="caption">Figure 2.2.1: Code execution status information</div>
    </div>

    <p>Figure 2.2.2 shows the user interface designed for entering code intended for result visualization.</p>

    <div class="figure">
        <img src="img/z28.jpg" alt="Figure 1.2" width="800" height="400">
        <div class="caption">Figure 2.2.2: Interface for entering visualization code</div>
    </div>

    <p> The results of the code execution shown in picture 2.2.2 are presented in picture 2.2.3. The graph
        illustrates the following dependencies: the black line represents the change in position as a function
        of time, the green line shows velocity over time, the blue line represents the angular displacement
        (θ) with respect to time, the red line displays the change in angular velocity (ω), while the brown
        line shows the variation of force over time.</p>

    <div class="figure">
        <img src="img/z27.jpg" alt="Figure 1.2" width="800" height="600">
        <div class="caption">Figure 2.2.3: Graphic display of simulation results</div>
    </div>

    <p>Figure 2.2.4 shows the numerical results obtained from executing the simulation. The displayed
        values represent accurate numerical data calculated using an iterative method.</p>


    <div class="figure">
        <img src="img/z25.jpg" alt="Figure 1.4">
        <div class="caption">Figure 2.2.4: Numerical simulation results</div>
    </div>
</body>
</html>
