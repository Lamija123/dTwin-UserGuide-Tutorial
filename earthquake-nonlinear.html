<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Earthquake non-linear model</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>2.3. Earthquake non-linear model</h2>

    <h3>Task Overview</h3>
    <p>Similar to the previous task, this one also describes a non-linear mechanical system known as the
        "Cart-Pendulum" system. The system is subjected to an external harmonic force acting over a limi-
        ted time period, simulating a short-term excitation such as an earthquake. This model additionally
        incorporates friction in the joints and the guiding rail.</p>

    <h3>Task objective:</h3>
    <p>The objective of this task is to model and simulate this system, which also serves as an introduction
        to the stabilization of non-linear mechanical systems and can provide a foundation for controller
        design in real-world engineering applications.</p>

    
    <h3>Program Analysis:</h3> 
    <p>Definition of the analyzed model:</p>

    <div class="code-block">
       Model [type=DAE name="Mechanical system" domain=real method=RK4 eps=1e-5]:
    </div>
        <p><strong>type</strong> = "DAE" – the system uses differential-algebraic equations.</p>
        <p><strong>name</strong> = "Mechanical system" – model name.</p>

        <p><strong>domain</strong> = "real" – specifies that all variables and parameters are in the real domain.</p>
        <p><strong>eps</strong> = 1e-5 – specified solution accuracy.</p>
        <p><strong>method</strong> = "RK4" – the fourth-order Runge-Kutta method is used for solving.</p>

    <p>Block <strong>Vars</strong>:</p>
    <div class="code-block">
        Vars [out=true]:
            x = 1
            v = 0.
            θ = 0.5 
            ω = 0.		
    </div>

    <p>Block <strong>Params</strong></p>
    <div class="code-block">
        Params:
            Ω = 2*pi*0.3
            M=10
            m=1
            L=1
            c=4
            k=2
            F_0=3
            F_ext = F_0 [out=true]
            g=9.81
            μ = 0.3
            c_f=0.2	
    </div>

    <p>The functions of the <i>Vars</i> and <i>Params</i> blocks were explained in <a href="nonlinear-real.html">example 1.1</a>.</p>

    <p>Block <strong>ODEs</strong>:</p>
    
    <div class="code-block">
        ODEs:
            x' = v
            v' = -(m*L*ω^2*sin(θ) - F_ext + k*x + (c+μ+c_f)*v + c_f*L*ω*cos(θ))/(M+m*sin(θ)^2) + (m*g*L*sin(θ)+c_f*L*v*cos(θ)+c_f*L^2*ω)*cos(θ)/(L*(M+m*sin(θ)^2))
            
            θ' = ω
            ω' = cos(θ)*(m*L*ω^2*sin(θ) - F_ext + k*x + (c+μ+c_f)*v + c_f*L*ω*cos(θ))/(L*(M+m*sin(θ)^2)) - (M+m)*(m*g*L*sin(θ)+c_f*L*v*cos(θ)+c_f*L^2*ω)/(m*L^2*(M+m*sin(θ)^2))
    </div>

    <p>The function of the ODEs block was explained in <a href="pendulum-ode.html">example 1.3</a>.
        It contains the ordinary differential equations that describe the analyzed system.</p>

    <p>Block <strong>PostProc</strong>:</p>
    
    <div class="code-block">
        PostProc:
            if t &lt 1:			//Limit extern force to be active in first second only
                F_ext=F_0 * cos(Ω * t)
            else:
                F_ext=0
            end
    </div>
      
    The block has the same function as in <a href="cart-model-nonlinear.html">the previous task</a>.

    <p>The keyword <strong>end</strong> signifies the termination of the model definition</p>
    <div class="code-block">
        end // end of Model
    </div>

    <p><i>The difference between the previous and the analyzed model in dTwin lies in the presence of friction
        (damping) and additional resistance forces in the latter. Both represent the "Cart-Pendulum" system,
        but with varying levels of mechanical complexity. In the Cart-Pendulum no friction model, the system
        is idealized without friction or additional resistive forces. This approach is useful for analytical study
        and understanding fundamental dynamics. Conversely, the Mechanical system model incorporates
        friction between the cart and the surface (μ), as well as additional viscous damping (c_f) affecting
        the pendulum. This model is more suitable for realistic simulations and stability analysis of the
        system. </i></p>

    <p>Below are the results obtained from simulating the analyzed model. </p>
        
    <p>Figure 2.3.1 shows the interface that appears after the simulation is initiated.</p>

    <div class="figure">
        <img src="img/z29.jpg" alt="Figure 1.1">
        <div class="caption">Figure 2.3.1: Code execution status information</div>
    </div>


    <p>Figure 2.3.2 displays the user interface designed for inputting visualization code that generates
        graphical representations of the simulation results.</p>

    <div class="figure">
        <img src="img/z31.jpg" alt="Figure 1.2">
        <div class="caption">Figure 2.3.2: Interface for entering visualization code</div>
    </div>

    <p>The results of the code execution shown in picture 2.3.2 are presented in picture 2.3.3. The graph
        displays the following dependencies: the black line represents the change in position as a function of
        time, the green line represents velocity over time, the blue line indicates the angular displacement
        (θ) relative to time, the red line shows the change in angular velocity (ω), and the brown line depicts
        the variation of force over time.</p>

    <div class="figure">
        <img src="img/z32.jpg" alt="Figure 1.3">
        <div class="caption">Figure 2.3.3: Graphic display of simulation results</div>
    </div>

    <p>Figure 2.3.4 presents the numerical results of the simulation, showing values obtained through the
        application of an iterative method for solving the system’s differential equations.</p>


    <div class="figure">
        <img src="img/z30.jpg" alt="Figure 1.4">
        <div class="caption">Figure 2.3.4: Numerical simulation results</div>
    </div>
</body>
</html>
