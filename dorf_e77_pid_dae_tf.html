<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dorf Example E7.7 (PID) with DAE-TF mixture model</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>4.2. Dorf Example E7.7 (PID) with DAE-TF mixture model</h2>

    <h3>Task Overview</h3>
    <p>The description and objective of this assignment remain consistent with the previous task. The key distinction lies in the implementation of the controller, which is here realized through differential and algebraic equations.</p>

    <h3>Program Analysis:</h3>  
    <p>Definition of the model under consideration:</p>

    <div class="code-block">
      	Model [type=DAE domain=real method=Trapezoidal name="Dorf Example 7.7 str 452"]:
    </div>
        <p><strong>type</strong> = ”DAE” – the system utilizes differential-algebraic equations.</p>
        <p><strong>name</strong> = ”Dorf Example 7.7 page 452” – the name of the model.</p>
        <p><strong>domain</strong> = ”real” – defines that all variables and parameters are in the real domain.</p>
        <p><strong>method</strong> = ”Trapezoidal” – designates the numerical integration method (Trapezoidal method).</p>

    <p>Block <strong>Vars</strong>:</p>
    <div class="code-block">
       Vars:
            err [out=true]
            yc
            y [out=true]
            err_x1
            ydiv
    </div>

    <p>Block <strong>Params</strong></p>
    <div class="code-block">
        Params:
            u=1 [out=true]
            Kp=370
            Ki=100
            Kd=60
            b=10
            omega_n=4
            sigma=0.707
            a1=2*sigma*omega_n+b
            a2=2*sigma*omega_n*b
    </div>

    <p>The functions of the <i>Vars</i> and <i>Params</i> blocks were explained in <a href="nonlinear-real.html">example 1</a>.</p>


    <p>Block <strong>TFs</strong>:</p>
    
    <div class="code-block">
        TFs:
	        y/yc = 1/(s^3 + a1*s^2 + a2*s)	
    </div>

    <p>The function of the <i>TFs</i> block is explained in <a href="pendulum-dae-tf.html">examples 5</a>.</p>

    <p>Block <strong>ODEs</strong>:</p>
    <div class="code-block">
        ODEs:		// PID controller 
            err_x1'  = err
            err'= ydiv/Kd
    </div>

    <p>Block <strong>NLEs</strong>:</p>
    <div class="code-block">
       NLEs:
            err=u-y		// negative feedback 
            ydiv+Ki*err_x1+Kp*err-yc=0		// PID controller output
    </div>

    <p>The functions of the <i>TFs</i>, <i>ODEs</i> and <i>NLEs</i> blocks are explained in earlier <a href="pendulum-dae-tf.html">examples 5</a>, <a href="nonlinear-complex.html">examples 3</a> and <a href="nonlinear-real.html">examples 2</a>, respectively.</p>

    <p>The keyword <strong>end</strong> signifies the termination of the model definition</p>
    <div class="code-block">
        end // end of Model
    </div>


    <p><i>The two presented codes model the same feedback system with a PID controller and a third-order process, 
        but they differ in their implementation and numerical processing. The first model utilizes transfer functions to 
        describe the behavior of both the PID controller and the process, relying on a more compact notation in the Laplace 
        domain. Its simulation is performed using the fourth-order Runge-Kutta method.</i></p>
        
    <p><i>The second model, conversely, employs differential and algebraic equations (DAE) to explicitly represent the dynamics 
        of the PID controller. In this approach, the integral and derivative components are described by separate variables and 
        equations, and the Trapezoidal method is used for numerical integration. This methodology is more suitable for solving 
        systems in the real-time domain, particularly when used with simulation tools that necessitate explicit state modeling.</i></p>

    <p>The results of the conducted simulation are presented below.</p>
        
    <p>Figure 4.2.1  displays a window providing information regarding the successful execution of the simulation, specifically indicating whether the process was completed without errors.</p>

    <div class="figure">
        <img src="img/z49.jpg" alt="Figure 1.1">
        <div class="caption">Figure 4.2.1: Code execution status information</div>
    </div>


    <p>Figure 4.2.2 shows the window for inputting the program code used to visualize simulation results. </p>

    <div class="figure">
        <img src="img/z52.jpg" alt="Figure 1.2">
        <div class="caption">Figure 4.2.2: Interface for entering visualization code</div>
    </div>

    <p>The graphical representation of the analyzed system's behavior is provided in 4.2.3, where various quantities are depicted using colored lines: the blue line shows the temporal change in the output value, the red line displays the error between the reference and output values, while the green line indicates the reference value.</p>

    <div class="figure">
        <img src="img/z51.jpg" alt="Figure 1.3">
        <div class="caption">Figure 4.2.3: Graphic display of simulation results</div>
    </div>

    <p>Figure 4.2.4 isplays the numerical results obtained after program execution.</p>


    <div class="figure">
        <img src="img/z50.jpg" alt="Figure 1.4">
        <div class="caption">Figure 4.2.4: Numerical simulation results</div>
    </div>
</body>
</html>
